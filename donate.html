<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate Now - Support Our Cause</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="footer.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="js/all-translations.js"></script>


  <style>

    @media (max-width: 768px) {
      .right-nav-section, .nav-actions {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0 !important;
        margin: 0 auto !important;
        padding: 0 !important;
        position: static !important;
      }
      .language-switcher, .custom-language-dropdown {
        margin: 0 !important;
        padding: 0 !important;
      }
      .hamburger {
        display: block;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding: 0 !important;margin-top: 0px;

      }
      .hamburger i, .hamburger svg {
        margin: 0 !important;
        padding: 0 !important;
      }
    }
    

    .nav-links a:hover {
      background-color: #ff4500;
      color: white;
      border-radius: 12px;
    }
    .payment-icons img {
      margin-top: 10px;
      margin-right: 8px;
      max-height: 18px !important;
      max-width: 40px !important;
      height: auto !important;
      width: auto !important;
    }

    @media (max-width: 600px) {
      .logo-link img {
        height: 48px !important;
        width: auto !important;
      }
    }

    @media (max-width: 700px) {
      .footer, .footer-container, .footer-logo, .footer-links, .footer-location, .footer-contact, .footer-bottom {
        text-align: center !important;
        margin-left: auto !important;
        margin-right: auto !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        max-width: 100% !important;
      }
      .footer-container {
        flex-direction: column !important;
        gap: 20px !important;
        padding: 20px !important;
      }
      .footer-links ul {
        padding: 0;
        margin: 0 auto;
        width: 100%;
        text-align: center;
      }
      .footer-links ul li {
        margin-bottom: 8px;
        text-align: center;
      }
      .footer-bottom {
        text-align: center !important;
        font-size: 13px;
        padding-top: 10px;
      }
      .payment-icons img,
      .social-icons img {
        margin: 0 6px !important;
      }
      .footer-contact {
        align-items: center !important;
        text-align: center !important;
        margin: 0 auto !important;
      }
      .social-icons {
        justify-content: center !important;
      }
    }

    .social-icons {
      justify-content: center !important;
    }
  

  @media (max-width: 480px) {
    .footer-container {
      padding: 15px !important;
      gap: 15px !important;
    }
    .footer-logo img {
      max-height: 80px !important;
    }
    .footer-links, .footer-location, .footer-contact {
      max-width: 100% !important;
      text-align: center !important;
    }
    .footer-links ul li {
      text-align: center !important;
    }
    .social-icons {
      justify-content: center !important;
      gap: 10px !important;
    }
    .payment-icons {
      justify-content: center !important;
      gap: 8px !important;
    }
  }

  /* Custom Circular Loader */
.loader-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(255,255,255,0.7);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}
.loader {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  position: relative;
  margin-bottom: 18px;
}
.loader-dot {
  width: 14px;
  height: 14px;
  background: #bbb;
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0.8;
}
.loader-dot:nth-child(1) { transform: rotate(0deg) translate(32px) scale(1); }
.loader-dot:nth-child(2) { transform: rotate(45deg) translate(32px) scale(1); }
.loader-dot:nth-child(3) { transform: rotate(90deg) translate(32px) scale(1); }
.loader-dot:nth-child(4) { transform: rotate(135deg) translate(32px) scale(1); }
.loader-dot:nth-child(5) { transform: rotate(180deg) translate(32px) scale(1); }
.loader-dot:nth-child(6) { transform: rotate(225deg) translate(32px) scale(1); }
.loader-dot:nth-child(7) { transform: rotate(270deg) translate(32px) scale(1); }
.loader-dot:nth-child(8) { transform: rotate(315deg) translate(32px) scale(1); }

@keyframes spin-loader {
  100% { transform: rotate(360deg); }
}
.loader {
  animation: spin-loader 1.1s linear infinite;
}
.loader-text {
  font-size: 1.2em;
  color: #444;
  font-weight: 500;
  text-align: center;
}

  </style>

</head>
<body>


  <body>
    <div class="loader-overlay" id="globalLoader" style="display: none;">
      <div class="loader">
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
      </div>
      <div class="loader-text">Please wait...</div>
    </div>
  
  
  <!-- Navigation Bar -->
  <nav>
            <a href="index.html" class="logo-link">
            <img src="images/sm_1_nobg.png" alt="Shield Maidens Logo" class="logo">
        </a>
    <div class="right-nav-section nav-actions">
        <div class="nav-links" role="menubar">
            <a href="index.html" role="menuitem" data-translate="home_link">Home</a>
            <a href="about us.html" role="menuitem" data-translate="about_us_link">About Us</a>
            <a href="resource&support.html" role="menuitem" data-translate="resources_link">Resources</a>
            <div class="dropdown" role="menuitem" aria-haspopup="true">
                <a href="#" aria-expanded="false" data-translate="get_involved_link">Get Involved <i class="fas fa-chevron-down"></i></a>
                <div class="dropdown-content" role="menu">
                    <a href="events.html" role="menuitem" data-translate="events_link">Events</a>
                    <a href="news.html" role="menuitem" data-translate="news_link">News</a>
                    <a href="partner.html" role="menuitem" data-translate="partner_link">Partner with Us</a>
                </div>
            </div>
            <a href="donate.html" class="highlight" role="menuitem" aria-current="page" data-translate="donate_link">Donate</a>
            <a href="report.html" class="nav-report-btn" role="menuitem" data-translate="where_to_report_link">
                <i class="fas fa-exclamation-circle"></i>
                Where to Report
            </a>
        </div>
        <div class="dropdown language-switcher" role="menuitem" aria-haspopup="true" style="order:1;">
            <a href="#" aria-expanded="false" data-translate="english_link">English <i class="fas fa-chevron-down"></i></a>
            <div class="dropdown-content" role="menu">
                <a href="#" data-lang="en" data-translate="english_link">English</a>
                <a href="#" data-lang="sw" data-translate="swahili_link">Swahili</a>
                <a href="#" data-lang="fr" data-translate="french_link">French</a>
                <a href="#" data-lang="ar" data-translate="arabic_link">Arabic</a>
            </div>
        </div>
        <button class="hamburger" aria-label="Open menu" onclick="openMenu()" style="order:2; display: block;">
            <i class="fas fa-bars"></i>
        </button>
    </div>
  </nav>

<!-- Mobile Sidebar Menu -->
<div id="mobileMenu" class="mobile-menu">
  <div class="menu-header">
    <span class="close-btn" onclick="closeMenu()">&times;</span>
  </div>
  <ul>
    <li><a href="index.html" data-translate="home_link">Home</a></li>
    <li><a href="about us.html" data-translate="about_us_link">About Us</a></li>
    <li><a href="resource&support.html" data-translate="resources_link">Resources</a></li>
    <li><a href="events.html" data-translate="events_link">Events</a></li>
    <li><a href="news.html" data-translate="news_link">News</a></li>
    <li><a href="partner.html" data-translate="partner_link">Partner with Us</a></li>
    <li><a href="donate.html" class="highlight" data-translate="donate_link">Donate</a></li>
    <li><a href="report.html" class="nav-report-btn" role="menuitem" data-translate="where_to_report_link"><i class="fas fa-exclamation-circle"></i> Where to Report</a></li>
  </ul>
</div>


  <div class="container">
    <h1 data-translate="donate_title">Support Our Mission</h1>
    <p class="intro" data-translate="donate_intro">Help us offer free legal services to victims of TFGBV,  fundraise for survivors and help include PWDs .</p>

    <form id="donationForm" action="process_donation.php" method="POST" aria-label="Donation Form">
      <label for="frequency" data-translate="donation_type_label">Donation Type</label>
      <select name="frequency" id="frequency">
        <option value="one-time" data-translate="one_time_option">One-time</option>
        <option value="monthly" data-translate="monthly_option">Monthly</option>
      </select>

      <label data-translate="choose_amount_label">Choose Amount (KES)</label>
      <div class="preset-amounts">
        <button type="button" class="amount-btn" data-amount="5000">KES 5,000</button>
        <button type="button" class="amount-btn" data-amount="2500">KES 2,500</button>
        <button type="button" class="amount-btn" data-amount="1000">KES 1,000</button>
        <button type="button" class="amount-btn" data-amount="500">KES 500</button>
      </div>
      <input type="number" name="custom_amount" id="customAmount" placeholder="Or enter custom amount" data-translate="custom_amount_placeholder">
      <input type="hidden" name="amount" id="finalAmount" required>

      <h3 data-translate="your_details_heading">Your Details</h3>
      <input type="text" name="first_name" placeholder="First Name" required aria-required="true" data-translate="first_name_placeholder">
      <input type="text" name="last_name" placeholder="Last Name" required aria-required="true" data-translate="last_name_placeholder">
      <input type="email" name="email" placeholder="Email Address" required aria-required="true" data-translate="email_placeholder">
      <input type="tel" name="phone" placeholder="Phone Number (e.g. +254...)" required aria-required="true" data-translate="phone_placeholder">

      <label for="message" data-translate="comment_label">Comment (optional)</label>
      <textarea name="message" id="message" rows="3" placeholder="Leave a short note..." aria-required="false" data-translate="comment_placeholder"></textarea>

      <p id="summaryText" data-translate="summary_text">Selected donation: <strong>KES 0</strong></p>

      <button type="submit" aria-label="Submit Donation" data-translate="donate_now_button">Donate Now</button>
    </form>
  </div>

  <footer class="footer">
    <div class="footer-container">
      <!-- Column 1: Logo (left) -->
      <div class="footer-logo">
        <img src="images/sm_1_nobg.png" alt="Shield Maidens Logo">
      </div>
  
      <!-- Column 2: Quick Links (center) -->
      <div class="footer-links">
        <h3 data-translate="quick_links">Quick Links</h3>
        <ul>
          <li><a href="index.html" data-translate="home_link">Home</a></li>
          <li><a href="about us.html" data-translate="about_us_link">About Us</a></li>
          <li><a href="resource&support.html" data-translate="resources_link">Resources</a></li>
          <li><a href="events.html" data-translate="events_link">Events</a></li>
          <li><a href="news.html" data-translate="news_link">News</a></li>
          <li><a href="partner.html" data-translate="partner_link">Partner with Us</a></li>
          <li><a href="donate.html" class="donate-btn" data-translate="donate_link">Donate</a></li>
          <li><a href="report.html" class="nav-report-btn" role="menuitem" data-translate="where_to_report_link">Where to Report</a></li>
        </ul>
        <div class="payment-icons">
          <img src="https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_111x69.jpg" alt="PayPal" height="20">
          <img src="https://img.icons8.com/color/48/000000/visa.png" alt="Visa" height="20">
          <img src="https://img.icons8.com/color/48/000000/mastercard.png" alt="Mastercard" height="20">
        </div>
      </div>
  
      <!-- Column 3: Contact, Location, Socials (right) -->
      <div class="footer-contact">
        <h3 data-translate="contact_us">Contact Us</h3>
        <p data-translate="email_text">Email: shi3ldmaidens@gmail.com</p>
        <div class="footer-location">
          <h3 data-translate="our location">Location</h3>
          <p>Nairobi, Kenya</p>
        </div>
        <h3 data-translate="our_socials">Our Socials</h3>
          <div class="social-icons">
  <a href="https://x.com/_shield_maidens" target="_blank" class="icon x"><i class="fab fa-x-twitter"></i></a>

  <a href="https://www.instagram.com/the_shield_maidens/" target="_blank" class="icon instagram"><i class="fab fa-instagram"></i></a>
  <a href="https://www.linkedin.com/in/shield-maidens-47ab66329?" target="_blank" class="icon linkedin"><i class="fab fa-linkedin-in"></i></a>
</div>
      </div>
    </div>
    <div class="footer-bottom">
      <p data-translate="copyright">Copyright Â© 2025 Shield Maidens</p>
    </div>
  </footer>






    <!-- Accessibility Control Panel -->
    <div class="accessibility-panel" id="accessibilityPanel">
      <button class="accessibility-toggle" onclick="toggleAccessibilityPanel()">
        <i class="fas fa-universal-access"></i>
      </button>
      <div class="accessibility-controls">
        <button onclick="toggleTextToSpeech()" id="ttsToggle">
          <i class="fas fa-volume-up"></i> TTS
        </button>
        <button onclick="stopTTS()" id="ttsStop">
          <i class="fas fa-stop"></i> Stop
      </button>
        <button onclick="increaseFontSize()">
          <i class="fas fa-text-height"></i> A+
        </button>
        <button onclick="decreaseFontSize()">
          <i class="fas fa-text-height"></i> A-
        </button>
        <button onclick="cycleContrast()" id="contrastToggle">
          <i class="fas fa-adjust"></i> <span id="contrastLabel">Contrast</span>
        </button>
        <button onclick="cycleSaturation()" id="saturationToggle">
          <i class="fas fa-tint"></i> <span id="saturationLabel">Saturation</span>
        </button>
        <button onclick="resetAccessibility()">
          <i class="fas fa-undo"></i> Reset
        </button>
      </div>
    </div>
    
    <style>
    /* Accessibility Panel Styles */
    .accessibility-panel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
    }
    
    .accessibility-toggle {
      position: fixed !important;
      bottom: 20px !important;
      right: 20px !important;
      width: 50px !important;
      height: 50px !important;
      background: #ff4500 !important;
      color: white !important;
      border: none !important;
      border-radius: 50% !important;
      font-size: 24px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      z-index: 10000 !important;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
      cursor: pointer !important;
    }
    
    .accessibility-toggle:hover {
      transform: scale(1.1);
    }
    
    .accessibility-controls {
      display: none;
      position: absolute;
      bottom: 60px;
      right: 0;
      background: orange;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      flex-direction: column;
      gap: 10px;
    }
    
    .accessibility-controls.active {
      display: flex;
    }
    
    .accessibility-controls button {
      background: orange;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.3s ease;
    }
    
    .accessibility-controls button:hover {
      background: #e0e0e0;
    }
    
    /* High Contrast Mode */
    .high-contrast {
      background-color: #000 !important;
      background-color: yellow !important;
      color: #fff !important;
    }
    
    .high-contrast * {
      background-color: #000 !important;
      color: #fff !important;
      border-color: #fff !important;
    }
    
    .high-contrast a {
      color: #ffff00 !important;
    }
    
    .high-contrast button {
      background-color: #fff !important;
      color: #000 !important;
    }
    /* Invert Colors Theme (Pink) */
    body.invert-colors {
      background: #ff69b4 !important; /* Hot pink */
      color: #fff !important;
    }
    body.invert-colors a, body.invert-colors button, body.invert-colors input, body.invert-colors textarea {
      color: #fff !important;
      background: #d72670 !important;
      border-color: #fff !important;
    }
    /* Dark Mode Theme */
    body.dark-mode {
      background: #181a1b !important;
      color: #e8eaed !important;
    }
    body.dark-mode a, body.dark-mode button, body.dark-mode input, body.dark-mode textarea {
      color: #e8eaed !important;
      background: #23272a !important;
      border-color: #444 !important;
    }
    /* Light Mode Theme */
    body.light-mode {
      background: #fff !important;
      color: #222 !important;
    }
    body.light-mode a, body.light-mode button, body.light-mode input, body.light-mode textarea {
      color: #222 !important;
      background: #f5f5f5 !important;
      border-color: #bbb !important;
    }
    /* Color-blind Friendly Theme (blue/yellow) */
    body.color-blind-mode {
      background: #f7f7e8 !important;
      color: #1a1a7a !important;
    }
    body.color-blind-mode a, body.color-blind-mode button, body.color-blind-mode input, body.color-blind-mode textarea {
      color: #1a1a7a !important;
      background: #ffe066 !important;
      border-color: #1a1a7a !important;
    }
    /* Saturation Modes */
    body.saturation-low {
      filter: saturate(0.2) !important;
    }
    body.saturation-high {
      filter: saturate(2) !important;
    }
    body.saturation-normal {
      filter: saturate(1) !important;
    }

    /* Ensure accessibility panel and icon always stay fixed and visible */
    .accessibility-panel {
      position: fixed !important;
      bottom: 20px !important;
      right: 20px !important;
      z-index: 9999 !important;
    }
    .accessibility-toggle {
      position: fixed !important;
      bottom: 20px !important;
      right: 20px !important;
      z-index: 10000 !important;
    }

    /* Invert Colors Theme (Light Pink Background Only) */
    body.invert-colors {
    background-color: #f8f8f8 !important; /* Light pink */
    }
    body.invert-colors *,
    body.invert-colors h1,
    body.invert-colors h2,
    body.invert-colors h3,
    body.invert-colors h4,
    body.invert-colors h5,
    body.invert-colors h6,
    body.invert-colors p,
    body.invert-colors span,
    body.invert-colors a,
    body.invert-colors button,
    body.invert-colors input,
    body.invert-colors textarea {
      color: initial !important;
      background: initial !important;
    }
    /* Saturation Modes: apply to .main-content only, not body */
    .main-content.saturation-low {
      filter: saturate(0.2) !important;
    }
    .main-content.saturation-high {
      filter: saturate(2) !important;
    }
    .main-content.saturation-normal {
      filter: saturate(1) !important;
    }
    /* Ensure accessibility panel and icon always stay fixed and visible */
    .accessibility-panel {
      position: fixed !important;
      bottom: 20px !important;
      right: 20px !important;
      z-index: 9999 !important;
    }
    .accessibility-toggle {
      position: fixed !important;
      bottom: 20px !important;
      right: 20px !important;
      z-index: 10000 !important;
    }
    </style>
    
    <script>
    // Accessibility Functions (Globally accessible)
    let isTTSActive = true; // Set to true by default for auto-read
    let isHighContrast = false;
    let currentFontSize = 16;
    let currentTTSVoice = null; // To store the currently selected voice
    
    // Function to find a voice based on language
    window.selectTTSVoice = function(lang) {
        const voices = window.speechSynthesis.getVoices();
        console.log('Available Voices:', voices);
        console.log('Attempting to select voice for language:', lang);
    
        let selectedVoice = null;
    
        if (lang === 'en') {
            // Prioritize Awasili voice for English
            selectedVoice = voices.find(voice => voice.name === 'Awasili') ||
                           voices.find(voice => voice.name === 'Asilia') ||
                           voices.find(voice => voice.lang === 'en-KE') ||
                           voices.find(voice => voice.lang.startsWith('en-US')) ||
                           voices.find(voice => voice.lang.startsWith('en-GB')) ||
                           voices.find(voice => voice.lang.startsWith('en'));
        } else if (lang === 'sw') {
            // Prioritize Swahili (Kenya) then any Swahili voice
            selectedVoice = voices.find(voice => voice.lang === 'sw-KE') ||
                           voices.find(voice => voice.lang.startsWith('sw'));
        } else if (lang === 'fr') {
            // Prioritize French voices
            selectedVoice = voices.find(voice => voice.lang.startsWith('fr'));
        } else if (lang === 'ar') {
            // Prioritize Arabic voices
            selectedVoice = voices.find(voice => voice.lang.startsWith('ar'));
        }
    
        currentTTSVoice = selectedVoice || voices.find(voice => voice.lang.startsWith('en')) || voices[0];
        if (!currentTTSVoice) {
            console.warn("No suitable voice found for language " + lang + ", using default system voice.");
        } else {
            console.log('Selected voice:', currentTTSVoice.name, '(' + currentTTSVoice.lang + ')');
        }
    };
    
    // Toggle accessibility panel visibility
    window.toggleAccessibilityPanel = function() {
        const controls = document.querySelector('.accessibility-controls');
        controls.classList.toggle('active');
    };
    
    // Toggle text-to-speech on/off
    window.toggleTextToSpeech = function() {
        isTTSActive = !isTTSActive;
        const ttsButton = document.getElementById('ttsToggle');
        
        if (isTTSActive) {
            ttsButton.style.backgroundColor = '#ff4500';
            ttsButton.style.color = 'white';
            window.readPageContent(); // Restart reading when toggled on
        } else {
            ttsButton.style.backgroundColor = '#f5f5f5';
            ttsButton.style.color = 'black';
            window.speechSynthesis.cancel();
        }
    };
    
    // Stop text-to-speech
    window.stopTTS = function() {
        isTTSActive = false;
        window.speechSynthesis.cancel();
        const ttsButton = document.getElementById('ttsToggle');
        if (ttsButton) {
            ttsButton.style.backgroundColor = '#f5f5f5';
            ttsButton.style.color = 'black';
        }
    };
    
    // Read the entire page content
    window.readPageContent = function() {
        if (!isTTSActive) {
            console.log('TTS is not active, not reading content.');
            return;
        }
        
        // Get the current language
        const currentLang = document.documentElement.lang || 'en';
        
        // Function to create and speak an utterance
        const speakText = (text, rate = 1) => {
            if (!text) return null;
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = rate;
            utterance.pitch = 1;
            utterance.volume = 1;
            utterance.lang = currentLang;
            
            if (currentTTSVoice) {
                utterance.voice = currentTTSVoice;
            }
            
            return utterance;
        };
    
        // Create a queue of utterances
        const utterances = [];
        
        // 1. Read navigation links once, clearly
        const navLinks = document.querySelectorAll('.nav-links a');
        navLinks.forEach(link => {
            // Get the complete text content, including any child elements
            const text = link.textContent.replace(/\s+/g, ' ').trim();
            if (text) {
                const utterance = speakText(text, 0.9);
                if (utterance) {
                    utterances.push(utterance);
                }
            }
        });
    
        // 2. Read the main content
        const mainContent = Array.from(document.querySelectorAll('[data-translate]'))
            .filter(el => el.getAttribute('data-lang') === currentLang || !el.getAttribute('data-lang'))
            .map(el => el.textContent.replace(/\s+/g, ' ').trim())
            .filter(text => text) // Remove empty strings
            .join(' ');
    
        if (mainContent) {
            const utterance = speakText(mainContent, 1);
            if (utterance) {
                utterances.push(utterance);
            }
        }
    
        // Function to speak the next utterance in the queue
        const speakNext = (index) => {
            if (index < utterances.length) {
                const utterance = utterances[index];
                utterance.onend = () => {
                    // Add a pause between items
                    setTimeout(() => {
                        speakNext(index + 1);
                    }, 500); // Consistent pause between all items
                };
                window.speechSynthesis.speak(utterance);
            }
        };
    
        // Start speaking the queue
        speakNext(0);
    };
    
    // Increase font size
    window.increaseFontSize = function() {
        currentFontSize += 2;
        document.body.style.fontSize = currentFontSize + 'px';
    };
    
    // Decrease font size
    window.decreaseFontSize = function() {
        currentFontSize = Math.max(12, currentFontSize - 2);
        document.body.style.fontSize = currentFontSize + 'px';
    };
    
    // Toggle high contrast mode
    window.toggleHighContrast = function() {
        isHighContrast = !isHighContrast;
        const contrastButton = document.getElementById('contrastToggle');
        
        if (isHighContrast) {
            document.body.classList.add('high-contrast');
            contrastButton.style.backgroundColor = '#ff4500';
            contrastButton.style.color = 'white';
        } else {
            document.body.classList.remove('high-contrast');
            contrastButton.style.backgroundColor = '#f5f5f5';
            contrastButton.style.color = 'black';
        }
    };
    
    // Reset all accessibility settings
    window.resetAccessibility = function() {
        // Reset font size
        currentFontSize = 16;
        document.body.style.fontSize = ''; // Resets to default
    
        // Reset high contrast
        isHighContrast = false;
        document.body.classList.remove('high-contrast');
        document.getElementById('contrastToggle').style.backgroundColor = '#f5f5f5';
        document.getElementById('contrastToggle').style.color = 'black';
    
        // Reset text-to-speech
        isTTSActive = false;
        window.speechSynthesis.cancel(); // Stop any ongoing speech
        document.getElementById('ttsToggle').style.backgroundColor = '#f5f5f5';
        document.getElementById('ttsToggle').style.color = 'black';
    
        // Re-select voice based on current page language (defaults to English)
        window.selectTTSVoice(document.documentElement.lang || 'en');
    };
    
    // Initial setup for voices and auto-read
    document.addEventListener('DOMContentLoaded', () => {
        const initializeTTSOnLoad = () => {
            // Set TTS to active by default
            isTTSActive = true;
            
            // Initialize voice selection
            window.selectTTSVoice(document.documentElement.lang || 'en');
            
            // Set the TTS button to active state
            const ttsButton = document.getElementById('ttsToggle');
            if (ttsButton) {
                ttsButton.style.backgroundColor = '#ff4500';
                ttsButton.style.color = 'white';
            }
    
            // Start reading the page content automatically
            setTimeout(() => {
                window.readPageContent();
            }, 1000); // Small delay to ensure everything is loaded
        };
    
        if (window.speechSynthesis && window.speechSynthesis.getVoices().length > 0) {
            initializeTTSOnLoad();
        } else if (window.speechSynthesis) {
            window.speechSynthesis.onvoiceschanged = () => {
                initializeTTSOnLoad();
            };
        } else {
            console.warn("SpeechSynthesis API not supported in this browser.");
        }
    });
 

    </script>
    


  <script>
  function updateCarouselArrow() {
    const carousel = document.querySelector('.session-carousel');
    const arrow = document.getElementById('carouselLeftArrow');
    if (!carousel || !arrow) return;
    if (window.innerWidth > 600) {
      arrow.style.display = 'none';
      return;
    }
    // Show arrow if not at leftmost
    if (carousel.scrollLeft > 10) {
      arrow.style.display = 'flex';
    } else {
      arrow.style.display = 'none';
    }
  }
  window.addEventListener('resize', updateCarouselArrow);
  document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.querySelector('.session-carousel');
    const arrow = document.getElementById('carouselLeftArrow');
    if (!carousel || !arrow) return;
    updateCarouselArrow();
    carousel.addEventListener('scroll', updateCarouselArrow);
    arrow.addEventListener('click', function() {
      carousel.scrollBy({ left: -carousel.offsetWidth * 0.9, behavior: 'smooth' });
    });
  });
  </script>

 

 

 

  <script>
// --- Contrast and Saturation Cycling Logic ---
let contrastIndex = 0;
const contrastModes = [
  { name: 'Default', fn: () => resetContrast() },
  { name: 'Invert', fn: () => { resetContrast(); document.body.classList.add('invert-colors'); } },
  { name: 'High', fn: () => { resetContrast(); document.body.classList.add('high-contrast'); } },
  { name: 'Dark', fn: () => { resetContrast(); document.body.classList.add('dark-mode'); } },
  { name: 'Light', fn: () => { resetContrast(); document.body.classList.add('light-mode'); } },
  { name: 'Color-blind', fn: () => { resetContrast(); document.body.classList.add('color-blind-mode'); } }
];
function resetContrast() {
  document.body.classList.remove('invert-colors', 'high-contrast', 'dark-mode', 'light-mode', 'color-blind-mode');
}
function cycleContrast() {
  contrastIndex = (contrastIndex + 1) % contrastModes.length;
  contrastModes[contrastIndex].fn();
  document.getElementById('contrastLabel').textContent = 'Contrast: ' + contrastModes[contrastIndex].name;
}

let saturationIndex = 0;
const saturationModes = [
  { name: 'Normal', fn: () => { resetSaturation(); document.querySelector('.main-content').classList.add('saturation-normal'); } },
  { name: 'Low', fn: () => { resetSaturation(); document.querySelector('.main-content').classList.add('saturation-low'); } },
  { name: 'High', fn: () => { resetSaturation(); document.querySelector('.main-content').classList.add('saturation-high'); } }
];
function resetSaturation() {
  document.querySelector('.main-content').classList.remove('saturation-low', 'saturation-high', 'saturation-normal');
}
function cycleSaturation() {
  saturationIndex = (saturationIndex + 1) % saturationModes.length;
  saturationModes[saturationIndex].fn();
  document.getElementById('saturationLabel').textContent = 'Saturation: ' + saturationModes[saturationIndex].name;
}

// Update labels on load and after reset
function updateLabels() {
  document.getElementById('contrastLabel').textContent = 'Contrast: ' + contrastModes[contrastIndex].name;
  document.getElementById('saturationLabel').textContent = 'Saturation: ' + saturationModes[saturationIndex].name;
}
document.addEventListener('DOMContentLoaded', updateLabels);

// Update resetAccessibility to also reset these
const oldReset = window.resetAccessibility;
window.resetAccessibility = function() {
  oldReset();
  contrastIndex = 0;
  saturationIndex = 0;
  resetContrast();
  resetSaturation();
  updateLabels();
};
</script>
</div>
<!-- Accessibility icon/panel must be here, outside .main-content -->
<div class="accessibility-panel" id="accessibilityPanel">
  <!-- ... existing accessibility panel code ... -->
</div>

<script>
  // Show the loader
  document.getElementById('globalLoader').style.display = 'flex';

  // Hide the loader (when done)
  document.getElementById('globalLoader').style.display = 'none';
  </script>

  
  <script>
    // Show loader immediately
    document.getElementById('globalLoader').style.display = 'flex';
    // Hide loader after 2 seconds (demo)
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.getElementById('globalLoader').style.display = 'none';
      }, 2000);
    });
  </script>
  <script>
    // Show loader only if page takes too long to load
    let loaderTimeout = setTimeout(function() {
      document.getElementById('globalLoader').style.display = 'flex';
    }, 700); // Show loader if not loaded in 700ms
    
    window.addEventListener('load', function() {
      clearTimeout(loaderTimeout);
      document.getElementById('globalLoader').style.display = 'none';
    });
    </script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    isTTSActive = false;
    var ttsButton = document.getElementById('ttsToggle');
    var stopButton = document.getElementById('ttsStop');
    if (ttsButton) {
      ttsButton.disabled = true;
      ttsButton.style.opacity = 0.5;
      ttsButton.style.pointerEvents = 'none';
    }
    if (stopButton) {
      stopButton.disabled = true;
      stopButton.style.opacity = 0.5;
      stopButton.style.pointerEvents = 'none';
    }
  });
  </script>

    
  <script src="accessibility.js"></script>
  <script src="script.js"></script>
 
  
  <script src="js/language-handler.js"></script>
  </body>
  </html>
